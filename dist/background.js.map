{"version":3,"file":"background.js","mappings":";;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4DAA4D,iBAAiB;AAC7E,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,CAAC;AAC6B;;;;;;;;;;;;;;;;ACvB9B,iBAAiB,SAAI,IAAI,SAAI;AAC7B;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACsC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,8BAA8B,2BAA2B;AAC/E,yBAAyB;AACzB;AACA;AACA;AACA;AACA,CAAC,CAAC,iDAAkB;AACpB,iEAAe,wBAAwB,EAAC;;;;;;;UC/BxC;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;ACNsD;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,QAAQ,8DAAe;AACvB;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,OAAO;AAC3C,MAAM;AACN;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,sBAAsB;AACtB,IAAI","sources":["webpack://requestcraft/./src/background/utils/index.ts","webpack://requestcraft/./src/background/utils/redirectHandler.ts","webpack://requestcraft/webpack/bootstrap","webpack://requestcraft/webpack/runtime/define property getters","webpack://requestcraft/webpack/runtime/hasOwnProperty shorthand","webpack://requestcraft/webpack/runtime/make namespace object","webpack://requestcraft/./src/background/background.ts"],"sourcesContent":["var chrome = self.chrome;\nvar DynamicRuleHandler = /** @class */ (function () {\n    function DynamicRuleHandler() {\n        this.rules = [];\n    }\n    DynamicRuleHandler.prototype.addRule = function (ruleObj) {\n        ruleObj.id = this.rules.length + 1;\n        this.rules.push(ruleObj);\n        console.log(\">> \", this.rules);\n        chrome.declarativeNetRequest.updateDynamicRules({\n            addRules: this.rules,\n            removeRuleIds: this.rules.map(function (rule) { return rule.id; })\n        }, function () {\n            if (chrome.runtime.lastError) {\n                console.error('Error updating dynamic rules:', chrome.runtime.lastError.message);\n            }\n            else {\n                console.log('Dynamic rule updated successfully.');\n            }\n        });\n    };\n    return DynamicRuleHandler;\n}());\nexport { DynamicRuleHandler };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { DynamicRuleHandler } from \".\";\nvar RedirectionHandler = /** @class */ (function (_super) {\n    __extends(RedirectionHandler, _super);\n    function RedirectionHandler() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    RedirectionHandler.prototype.add = function (params) {\n        var rule = {\n            priority: params.priority || 1,\n            action: { type: 'redirect', redirect: { url: params.redirectUrl } },\n            condition: { urlFilter: params.urlFilter, resourceTypes: ['main_frame'] }\n        };\n        this.addRule(rule);\n    };\n    return RedirectionHandler;\n}(DynamicRuleHandler));\nexport default new RedirectionHandler();\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import redirectHandler from \"./utils/redirectHandler\";\nconsole.log(\"this is background script!\");\nvar addParamBasedRedirectionRule = function (_a) {\n    var targetUrl = _a.targetUrl, queryParamMap = _a.queryParamMap;\n    var urlBuilder = new URL(targetUrl);\n    Object.keys(queryParamMap).forEach(function (param) {\n        if (urlBuilder.searchParams.get(param) !== queryParamMap[param]) {\n            urlBuilder.searchParams.set(param, queryParamMap[param]);\n        }\n    });\n    var filteredTargetUrl = urlBuilder.href;\n    if (filteredTargetUrl !== targetUrl) {\n        redirectHandler.add({\n            urlFilter: targetUrl,\n            redirectUrl: filteredTargetUrl,\n        });\n    }\n};\n// headerHandler.add({\n//   // urlFilter: \"https://homeboy445.github.io/Testing-Site/lorem.html\",\n//   urlFilter: \"https://dev.visualwebsiteoptimizer.com/j.php*\",\n//   ruleConfig: {\n//     header: \"Cookie\",\n//     operation: \"set\",\n//     value: \"MAJOR_TEST_COOKIE=1; path=/;\",\n//   },\n//   type: \"response\",\n// });\n// // Plain redirection!\n// redirectHandler.add({\n//   urlFilter: \"https://homeboy445.github.io/Testing-Site/lorem.html\",\n//   redirectUrl: \"https://homeboy445.github.io/Testing-Site/lorem.html?Working=true\"\n// });\n// addParamBasedRedirectionRule({\n//   targetUrl: \"https://homeboy445.github.io/Testing-Site/lorem.html?testing=1\",\n//   queryParamMap: { testing: \"MAJOR\" }\n// });\n"],"names":[],"sourceRoot":""}